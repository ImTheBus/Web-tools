<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>IMTHEBUS tools – Whiteboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Shared base styles and core helpers -->
  <link rel="stylesheet" href="assets/imthebus-base.css" />
  <script src="assets/imthebus-core.js" defer></script>
  
  <!-- Page-specific styling kept minimal -->
  <style>
    /* Sidebar tweaks for the home intro */
    .home-sidebar-tagline {
      font-size: 0.9rem;
      margin: 0 0 8px;
    }

    .home-sidebar-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 10px;
    }

    .home-sidebar-section {
      border-top: 1px solid rgba(0, 0, 0, 0.12);
      padding-top: 8px;
      margin-top: 8px;
      font-size: 0.84rem;
    }

    .home-sidebar-section-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      font-weight: 600;
      font-size: 0.86rem;
    }

    .home-sidebar-section-hint {
      font-size: 0.75rem;
      color: #6b7280;
    }

    .home-sidebar-section-body {
      margin-top: 4px;
      color: #4b5563;
    }

    .home-sidebar-section-body ul {
      padding-left: 1.05rem;
      margin: 2px 0 0;
    }

    .home-sidebar-section-body li + li {
      margin-top: 2px;
    }

    /* Home whiteboard layout */
    .home-board-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      margin-bottom: 4px;
    }

    .home-board-meta {
      font-size: 0.78rem;
      color: #4b5563;
      margin-bottom: 8px;
      display: flex;
      flex-wrap: wrap;
      gap: 6px 14px;
    }

    .tool-note-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 10px;
      position: relative;
      z-index: 1;
    }

    /* Tool “post-it” cards (not the draggable notes) */
    .tool-note-link {
      text-decoration: none;
      color: inherit;
    }

    .tool-note {
      position: relative;
      border-radius: 9px;
      border: 2px solid #000;
      padding: 8px 9px 9px;
      box-shadow: 0 7px 14px rgba(0, 0, 0, 0.22);
      background: #fff8a7;
      transform-origin: center top;
      transition:
        transform 0.12s ease-out,
        box-shadow 0.12s ease-out;
    }

    .tool-note::before {
      content: "";
      position: absolute;
      top: 6px;
      left: 50%;
      transform: translateX(-50%);
      width: 30px;
      height: 8px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.8);
      box-shadow: 0 1px 0 rgba(0, 0, 0, 0.18);
    }

    .tool-note-body {
      font-size: 0.8rem;
      line-height: 1.35;
      margin-bottom: 3px;
    }

    .tool-note-status {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.09em;
      margin-bottom: 2px;
    }

    .tool-note-title {
      font-family: "Permanent Marker", system-ui, sans-serif;
      font-size: 1rem;
      margin: 2px 0 3px;
    }

    .tool-note-meta {
      font-size: 0.7rem;
      color: #374151;
      opacity: 0.9;
    }

    .tool-note-available {
      background: #c7f9cc;
    }

    .tool-note-dev {
      background: #ffb3c1;
    }

    .tool-note-prototype {
      background: #ffeaa7;
    }

    .tool-note-coming {
      background: #bde0fe;
    }

    .tool-note:hover {
      transform: translateY(-2px) rotate(var(--note-rot, 0deg));
      box-shadow: 0 11px 20px rgba(0, 0, 0, 0.3);
    }

    .tool-note-enter {
      animation: toolNoteEnter 260ms ease-out forwards;
    }

    .tool-note-drop {
      animation: toolNoteDrop 360ms ease-in forwards;
    }

    @keyframes toolNoteEnter {
      0% {
        opacity: 0;
        transform: translateY(-12px) rotate(var(--note-rot, 0deg));
      }
      60% {
        opacity: 1;
        transform: translateY(4px) rotate(calc(var(--note-rot, 0deg) * 1.1));
      }
      100% {
        opacity: 1;
        transform: translateY(0) rotate(var(--note-rot, 0deg));
      }
    }

    @keyframes toolNoteDrop {
      0% {
        opacity: 1;
        transform: translateY(0) rotate(var(--note-rot, 0deg));
      }
      100% {
        opacity: 0;
        transform: translateY(80px) rotate(calc(var(--note-rot, 0deg) + 6deg));
      }
    }

    /* Board wipe overlay when leaving the page */
    .board-wipe {
      position: absolute;
      inset: 0;
      background: #ffffff;
      transform: translateY(100%);
      z-index: 2;
      pointer-events: none;
    }

    .board-wipe-active {
      animation: boardWipe 420ms ease-in forwards;
    }

    @keyframes boardWipe {
      0% {
        transform: translateY(100%);
      }
      60% {
        transform: translateY(0%);
      }
      100% {
        transform: translateY(-100%);
      }
    }
  </style>
</head>

<body data-counter-key="home_board">
  <!-- Shared header -->
  <header data-include="partials/header.html"></header>

  <main class="page">
    <!-- Sidebar card (shared style) -->
    <aside class="sidebar-card">
      <h1 class="page-title">IMTHEBUS toolbox</h1>
      <p class="home-sidebar-tagline">
        A shared whiteboard of simple browser tools to help you think, decide, and manage with other humans.
      </p>

      <div class="home-sidebar-actions">
        <button
          class="btn btn-primary"
          type="button"
          onclick="document.getElementById('tools-board').scrollIntoView({ behavior: 'smooth' });"
        >
          Browse tools
        </button>
        <button
          class="btn"
          type="button"
          onclick="window.location.href='mailto:contact@imthebus.co.uk?subject=Tool%20idea%20or%20bug';"
        >
          Suggest a tool or report a bug
        </button>
      </div>

      <section class="home-sidebar-section">
        <div class="home-sidebar-section-header">
          <div>About this site</div>
          <div class="home-sidebar-section-hint">shared across tools</div>
        </div>
        <div class="home-sidebar-section-body">
          <p>
            IMTHEBUS is a small, evolving collection of tools built for practical day to day work.
            The aim is to make better conversations and clearer decisions easier, without another platform or login.
          </p>
          <p>Each tool is designed to be:</p>
          <ul>
            <li><strong>Lightweight</strong> open in a browser and it is ready.</li>
            <li><strong>Focused</strong> built to solve one problem in one conversation.</li>
            <li><strong>Conversation first</strong> intended to sit in the middle of a group, not quietly solo.</li>
          </ul>
        </div>
      </section>

      <section class="home-sidebar-section">
        <div class="home-sidebar-section-header">
          <div>Whiteboard tips</div>
          <div class="home-sidebar-section-hint">patterns used on other pages</div>
        </div>
        <div class="home-sidebar-section-body">
          <p>
            Most tools use the same whiteboard frame and note patterns.
            Common shortcuts include using <strong>1-4</strong> for quadrants, <strong>Enter</strong> to add,
            and dragging notes to fine tune where they sit.
          </p>
          <p>
            The home board just shows which tools are pinned and what each one is for.
          </p>
        </div>
      </section>
    </aside>

    <!-- Whiteboard with pinned tools -->
    <section
      class="board-wrapper"
      id="tools-board"
      aria-label="Tools pinned to the IMTHEBUS whiteboard"
    >
      <div class="board-inner-shell">
        <div class="home-board-header">
          <h2 class="page-title" style="margin-bottom:0;">Tools pinned to the board</h2>
          <button class="btn-pill-small" type="button" id="homeFullscreenBtn">
            Fullscreen board
          </button>
        </div>

        <div class="home-board-meta">
          <span>Click any note to open that tool.</span>
          <span>New tools will appear here as they are ready.</span>
        </div>

        <div class="tool-note-grid" aria-label="Tool list as notes">
          <!-- Bored to Panic -->
          <a class="tool-note-link" data-board-nav href="bored-to-panic.html">
            <article class="tool-note tool-note-available">
              <div class="tool-note-status">Available</div>
              <h3 class="tool-note-title">Bored to Panic scale</h3>
              <p class="tool-note-body">
                A quick self check on where you sit between boredom and overwhelm so you can stay in a healthy performance zone.
              </p>
              <p class="tool-note-meta">
                Best used in 1 to 1s and coaching sessions.
              </p>
            </article>
          </a>

          <!-- Feedback scale -->
          <a class="tool-note-link" data-board-nav href="feedback-scale.html">
            <article class="tool-note tool-note-dev">
              <div class="tool-note-status">In development</div>
              <h3 class="tool-note-title">Feedback Scale</h3>
              <p class="tool-note-body">
                A calibration tool to see whether feedback is sparse, resonant, loud, or excessive, so you can tune how you give and receive it.
              </p>
              <p class="tool-note-meta">Status: work in progress.</p>
            </article>
          </a>

          <!-- Important vs Urgent -->
          <a class="tool-note-link" data-board-nav href="important-vs-urgent.html">
            <article class="tool-note tool-note-prototype">
              <div class="tool-note-status">Prototype</div>
              <h3 class="tool-note-title">Important vs Urgent</h3>
              <p class="tool-note-body">
                A classic 2 by 2 prioritisation board that helps you decide what to do now, schedule, delegate, or delete.
              </p>
              <p class="tool-note-meta">Status: internal testing.</p>
            </article>
          </a>

          <!-- Silly KPI dashboard -->
          <a class="tool-note-link" data-board-nav href="dashboard.html">
            <article class="tool-note tool-note-prototype">
              <div class="tool-note-status">Prototype</div>
              <h3 class="tool-note-title">Silly KPI dashboard</h3>
              <p class="tool-note-body">
                A tongue in cheek dashboard that looks serious at first glance and more ridiculous the longer you stare at it.
              </p>
              <p class="tool-note-meta">Status: internal testing.</p>
            </article>
          </a>

          <!-- Impact vs Effort -->
          <a class="tool-note-link" data-board-nav href="impact-vs-effort.html">
            <article class="tool-note tool-note-available">
              <div class="tool-note-status">Available</div>
              <h3 class="tool-note-title">Impact vs Effort</h3>
              <p class="tool-note-body">
                A 2 by 2 to sort ideas into quick wins, big bets, fillers, and time sinks so you can spend energy where it counts.
              </p>
              <p class="tool-note-meta">
                Best used in planning and prioritisation sessions.
              </p>
            </article>
          </a>

          <!-- SWOT wall -->
          <a class="tool-note-link" data-board-nav href="swot.html">
            <article class="tool-note tool-note-available">
              <div class="tool-note-status">Available</div>
              <h3 class="tool-note-title">SWOT wall</h3>
              <p class="tool-note-body">
                You want a SWOT tool? Have a SWOT tool. Capture strengths, weaknesses, opportunities, and threats on the same board.
              </p>
              <p class="tool-note-meta">
                Use solo or as a group. SWOTing is better with friends.
              </p>
            </article>
          </a>

          <!-- Placeholder -->
          <article class="tool-note tool-note-coming">
            <div class="tool-note-status">Coming soon</div>
            <h3 class="tool-note-title">Next tool on the board</h3>
            <p class="tool-note-body">
              Future tools will reuse the same whiteboard. When they are ready, a new note will appear here and link to them.
            </p>
            <p class="tool-note-meta">
              You can email ideas to contact@imthebus.co.uk.
            </p>
          </article>
        </div>

        <!-- Wipe overlay for leaving animation -->
        <div class="board-wipe" id="boardWipe"></div>
      </div>
    </section>
  </main>

  <!-- Shared footer -->
  <footer data-include="partials/footer.html"></footer>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const notes = Array.from(document.querySelectorAll(".tool-note"));
      const boardWrapper = document.getElementById("tools-board");
      const boardWipe = document.getElementById("boardWipe");
      const fullscreenBtn = document.getElementById("homeFullscreenBtn");

      // Seed a small, consistent rotation and wobble on load
      notes.forEach((note, index) => {
        const base = ((index * 13) % 7) - 3; // between about -3 and +3
        note.style.setProperty("--note-rot", base + "deg");
        note.classList.add("tool-note-enter");
      });

      // Fullscreen toggle just for the board area
      if (fullscreenBtn && boardWrapper && boardWrapper.requestFullscreen) {
        fullscreenBtn.addEventListener("click", function () {
          if (!document.fullscreenElement) {
            boardWrapper.requestFullscreen();
          } else if (document.exitFullscreen) {
            document.exitFullscreen();
          }
        });
      }

      // Helper: animate notes dropping + board wipe, then navigate
      function animateExitAndNavigate(targetHref) {
        if (!targetHref) return;

        notes.forEach((note) => {
          note.classList.remove("tool-note-enter");
          note.classList.add("tool-note-drop");
        });

        if (boardWipe) {
          boardWipe.classList.add("board-wipe-active");
        }

        setTimeout(function () {
          window.location.href = targetHref;
        }, 420);
      }

      // Intercept clicks on home board note links
      document.addEventListener("click", function (event) {
        const link = event.target.closest("a");
        if (!link) return;

        const href = link.getAttribute("href") || "";
        const isBoardLink = link.hasAttribute("data-board-nav");

        // Skip if no href, mailto, external, or hash-only
        if (!href || href.startsWith("mailto:") || href.startsWith("http") || href.startsWith("#")) {
          return;
        }

        const current = window.location.pathname.split("/").pop() || "index.html";
        if (!isBoardLink && !link.closest(".site-nav")) {
          // Not a board link, not from shared header: let it behave normally.
          return;
        }

        // Do nothing if already on this page
        if (href === current) return;

        event.preventDefault();
        animateExitAndNavigate(href);
      });
    });
  </script>
</body>
</html>
