<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Executive Alignment Dashboard ‚Äì IMTHEBUS Tools</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Shared base styles and core helpers -->
  <link rel="stylesheet" href="assets/imthebus-base.css" />
  <script src="assets/imthebus-core.js" defer></script>

  <!-- Fonts for marker-style headings -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Permanent+Marker&family=Inter:wght@400;600&display=swap">

  <style>
    /* Layout: single whiteboard canvas */
    .page.silly-dashboard-page {
      grid-template-columns: minmax(0, 1fr);
      gap: 14px;
    }

    .silly-board {
      position: relative;
      min-height: clamp(520px, 72vh, 860px);
      padding: 14px 18px 20px;
    }

    /* Hand-drawn style helpers */

    .marker-blue   { color: #2563eb; }
    .marker-green  { color: #15803d; }
    .marker-yellow { color: #b45309; }
    .marker-pink   { color: #db2777; }
    .marker-grey   { color: #4b5563; }

    .sketch-box {
      border: 2px solid #111827;
      border-radius: 10px;
      background: rgba(255, 255, 255, 0.9);
      box-shadow: none;
      position: relative;
    }

    .sketch-box::before {
      /* Slight wobble to the outline */
      content: "";
      position: absolute;
      inset: 2px;
      border: 1px dashed rgba(15, 23, 42, 0.35);
      border-radius: 9px;
      pointer-events: none;
      opacity: 0.55;
    }

    /* Header */

    .silly-title-row {
      display: flex;
      flex-wrap: wrap;
      align-items: baseline;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 6px;
    }

    .silly-title-main {
      font-family: "Permanent Marker", system-ui, sans-serif;
      font-size: 1.9rem;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: #1d4ed8;
      text-shadow: 0 0 4px rgba(255, 255, 255, 0.8);
    }

    .silly-title-tag {
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      padding: 4px 10px;
      border-radius: 999px;
      border: 2px solid #111827;
      background: rgba(255, 255, 255, 0.95);
      color: #111827;
      white-space: nowrap;
    }

    .silly-subtitle {
      font-size: 0.85rem;
      max-width: 540px;
      color: #374151;
      margin-bottom: 6px;
    }

    .silly-pencil-note {
      font-family: "Permanent Marker", system-ui, sans-serif;
      font-size: 0.9rem;
      color: #6b21a8;
      margin-bottom: 10px;
    }

    /* KPI strip */

    .silly-kpi-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 10px;
      margin-bottom: 14px;
    }

    .silly-kpi {
      position: relative;
      padding: 4px 6px 6px;
      border-radius: 6px;
      background: rgba(255, 255, 255, 0.92);
      border: 1px solid #111827;
      box-shadow: 0 1px 0 rgba(15, 23, 42, 0.35);
      transform-origin: center;
    }

    .silly-kpi:nth-child(1) { transform: rotate(-1.4deg); }
    .silly-kpi:nth-child(2) { transform: rotate(0.6deg); }
    .silly-kpi:nth-child(3) { transform: rotate(-0.4deg); }
    .silly-kpi:nth-child(4) { transform: rotate(1.1deg); }
    .silly-kpi:nth-child(5) { transform: rotate(-0.8deg); }

    .silly-kpi-label {
      font-size: 0.72rem;
      text-transform: uppercase;
      letter-spacing: 0.11em;
      margin-bottom: 2px;
    }

    .silly-kpi-value {
      font-size: 1.4rem;
      font-weight: 600;
      line-height: 1.1;
    }

    .silly-kpi-subtext {
      font-size: 0.72rem;
      color: #4b5563;
      margin-top: 1px;
    }

    /* Middle band: chart and API sticky notes */

    .silly-middle-band {
      display: grid;
      grid-template-columns: minmax(0, 1.7fr) minmax(220px, 1.05fr);
      gap: 16px;
      margin-bottom: 14px;
    }

    @media (max-width: 900px) {
      .silly-middle-band {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    /* Chart */

    .silly-chart-area {
      padding: 8px 10px 10px;
      transform: rotate(-0.6deg);
    }

    .silly-chart-header {
      display: flex;
      justify-content: space-between;
      gap: 8px;
      align-items: baseline;
      margin-bottom: 4px;
    }

    .silly-chart-title {
      font-size: 0.9rem;
      font-weight: 600;
    }

    .silly-chart-meta {
      font-size: 0.75rem;
      color: #4b5563;
      text-align: right;
    }

    .silly-chart-grid {
      position: relative;
      padding: 6px 4px 0;
      margin-bottom: 4px;
      height: 165px;
    }

    .silly-chart-grid::before,
    .silly-chart-grid::after {
      content: "";
      position: absolute;
      background: rgba(0, 0, 0, 0.23);
    }

    .silly-chart-grid::before {
      left: 8%;
      right: 4%;
      top: 50%;
      height: 1px;
    }

    .silly-chart-grid::after {
      top: 10%;
      bottom: 8%;
      left: 10%;
      width: 1px;
    }

    .chart-bars {
      position: absolute;
      inset: 0 4px 0 14px;
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 8px;
      align-items: flex-end;
    }

    .chart-bar-group {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2px;
      font-size: 0.7rem;
    }

    .chart-bar {
      width: 100%;
      border-radius: 4px 4px 2px 2px;
      background: linear-gradient(to top, #fb923c, #111827);
      min-height: 10px;
      transition: height 0.35s ease;
    }

    .chart-bar-value {
      font-size: 0.75rem;
    }

    .chart-bar-label {
      font-size: 0.7rem;
      color: #4b5563;
    }

    .silly-chart-legend {
      font-size: 0.74rem;
      color: #4b5563;
      margin-bottom: 4px;
    }

    .silly-chart-ticker {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 6px;
      border-radius: 999px;
      border: 1px solid #111827;
      font-size: 0.74rem;
      max-width: 100%;
      background: #fff;
    }

    .silly-ticker-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: #16a34a;
      opacity: 0.7;
      transform-origin: center;
      animation: dotPulse 1.6s ease-in-out infinite;
    }

    .ticker-label {
      text-transform: uppercase;
      letter-spacing: 0.12em;
      font-size: 0.68rem;
      color: #6b7280;
    }

    .ticker-text {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    @keyframes dotPulse {
      0%, 100% { transform: scale(1); opacity: 0.6; }
      50% { transform: scale(1.4); opacity: 1; }
    }

    @media (prefers-reduced-motion: reduce) {
      .silly-ticker-dot {
        animation: none;
      }
    }

    /* API sticky notes */

    .silly-api-column {
      position: relative;
      min-height: 170px;
    }

    .silly-api-title {
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 2px;
    }

    .silly-api-meta {
      font-size: 0.75rem;
      color: #4b5563;
      margin-bottom: 7px;
    }

    .silly-api-notes {
      display: grid;
      grid-template-columns: minmax(0, 1fr);
      gap: 8px;
    }

    .silly-api-note .note {
      position: relative;
      max-width: none;
      cursor: default;
    }

    .silly-api-note:nth-child(1) .note { transform: rotate(-1.8deg); }
    .silly-api-note:nth-child(2) .note { transform: rotate(1.3deg); }
    .silly-api-note:nth-child(3) .note { transform: rotate(-0.7deg); }

    .api-label {
      font-size: 0.72rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }

    .api-content {
      font-size: 0.8rem;
      line-height: 1.35;
    }

    .api-error {
      font-style: italic;
      color: #4b5563;
    }

    /* Lower band */

    .silly-lower-band {
      display: grid;
      grid-template-columns: minmax(0, 2.1fr) minmax(220px, 1.2fr);
      gap: 16px;
      margin-bottom: 8px;
    }

    @media (max-width: 900px) {
      .silly-lower-band {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    /* Table */

    .silly-table-area {
      padding: 8px 8px 9px;
      transform: rotate(0.4deg);
    }

    .silly-table-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 8px;
      margin-bottom: 4px;
    }

    .silly-table-title {
      font-size: 0.9rem;
      font-weight: 600;
    }

    .silly-table-meta {
      font-size: 0.75rem;
      color: #4b5563;
      text-align: right;
    }

    .fake-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.78rem;
      margin-bottom: 4px;
    }

    .fake-table th,
    .fake-table td {
      border: 1px solid rgba(0, 0, 0, 0.7);
      padding: 3px 4px;
      white-space: nowrap;
      vertical-align: middle;
    }

    .fake-table th {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      background: rgba(255, 255, 255, 0.95);
    }

    .fake-table tbody tr:nth-child(2n) {
      background: rgba(0, 0, 0, 0.03);
    }

    .badge {
      display: inline-flex;
      align-items: center;
      padding: 1px 6px;
      border-radius: 999px;
      border: 1px solid rgba(0, 0, 0, 0.7);
      font-size: 0.7rem;
      gap: 4px;
      background: #ffffff;
    }

    .badge-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
    }

    .badge-dot.green { background: #16a34a; }
    .badge-dot.amber { background: #f59e0b; }
    .badge-dot.red   { background: #ef4444; }

    .silly-table-footer {
      display: flex;
      justify-content: space-between;
      gap: 8px;
      font-size: 0.72rem;
      color: #4b5563;
    }

    /* Right-hand stack: culture + territory note */

    .silly-right-stack {
      display: grid;
      grid-template-columns: minmax(0, 1fr);
      gap: 10px;
    }

    .silly-culture-block {
      padding: 8px 8px 9px;
      transform: rotate(-0.3deg);
    }

    .silly-culture-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 8px;
      margin-bottom: 4px;
    }

    .silly-culture-title {
      font-size: 0.9rem;
      font-weight: 600;
    }

    .silly-culture-meta {
      font-size: 0.75rem;
      color: #4b5563;
      text-align: right;
    }

    .silly-culture-inner {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
    }

    .gif-wrapper {
      flex-shrink: 0;
      width: 150px;
      height: 100px;
      border-radius: 8px;
      overflow: hidden;
      border: 1px solid #111827;
      background: rgba(0, 0, 0, 0.04);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .gif-wrapper img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .gif-quote {
      flex: 1;
      font-size: 0.83rem;
    }

    .gif-quote span {
      display: block;
      margin-top: 3px;
      font-size: 0.75rem;
      color: #4b5563;
    }

    .employee-grid {
      display: grid;
      grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
      gap: 8px;
      margin-top: 7px;
    }

    @media (max-width: 600px) {
      .employee-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .employee-card {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 4px 6px;
      border-radius: 8px;
      border: 1px dashed rgba(0, 0, 0, 0.7);
      background: rgba(255, 255, 255, 0.88);
    }

    .employee-avatar {
      width: 44px;
      height: 44px;
      border-radius: 999px;
      overflow: hidden;
      border: 2px solid rgba(0, 0, 0, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(0, 0, 0, 0.05);
      flex-shrink: 0;
    }

    .employee-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .employee-avatar.sad {
      filter: grayscale(0.75) brightness(0.95);
    }

    .employee-info {
      display: flex;
      flex-direction: column;
      gap: 1px;
    }

    .employee-title {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: #6b7280;
    }

    .employee-name {
      font-size: 0.9rem;
      font-weight: 600;
    }

    .employee-role {
      font-size: 0.78rem;
      color: #4b5563;
    }

    /* Territory sticky */

    .silly-flag-note .note {
      position: relative;
      max-width: none;
      transform: rotate(1.4deg);
    }

    .flag-meta {
      font-size: 0.75rem;
      color: #4b5563;
      margin-bottom: 3px;
    }

    .flag-panel-content {
      display: flex;
      align-items: flex-start;
      gap: 6px;
      font-size: 0.84rem;
    }

    .flag-emoji {
      font-size: 1.6rem;
    }

    .flag-text-main {
      font-weight: 600;
      margin-bottom: 1px;
    }

    .flag-text-sub {
      font-size: 0.8rem;
      color: #4b5563;
    }

    /* Footer notes */

    .silly-footer-notes {
      margin-top: 6px;
      font-size: 0.74rem;
      color: #4b5563;
    }
  </style>
</head>

<body data-counter-key="exec-dashboard">
  <header data-include="assets/header.html"></header>

  <main class="page silly-dashboard-page">
    <section class="silly-board" aria-label="Executive alignment whiteboard">
      <div class="silly-title-row">
        <div class="silly-title-main marker-blue">
          Executive alignment dashboard
        </div>
        <div class="silly-title-tag">
          Experimental ¬∑ dashboard noise
        </div>
      </div>

      <p class="silly-subtitle">
        A very serious looking wall of markers, sticky notes and pretend data.
      </p>
      <p class="silly-pencil-note">
        Note to self: if anyone uses this to decide something, book an intervention.
      </p>

      <!-- KPIs -->
      <section class="silly-kpi-row" aria-label="Key performance indicators">
        <article class="silly-kpi">
          <div class="silly-kpi-label marker-blue">Synergy index</div>
          <div class="silly-kpi-value marker-blue" id="kpi-synergy"></div>
          <div class="silly-kpi-subtext" id="kpi-synergy-sub"></div>
        </article>

        <article class="silly-kpi">
          <div class="silly-kpi-label marker-green">Meetings avoided</div>
          <div class="silly-kpi-value marker-green" id="kpi-meetings"></div>
          <div class="silly-kpi-subtext" id="kpi-meetings-sub"></div>
        </article>

        <article class="silly-kpi">
          <div class="silly-kpi-label marker-yellow">Slide deck velocity</div>
          <div class="silly-kpi-value marker-yellow" id="kpi-slides"></div>
          <div class="silly-kpi-subtext" id="kpi-slides-sub"></div>
        </article>

        <article class="silly-kpi">
          <div class="silly-kpi-label marker-pink">Coffee to insight ratio</div>
          <div class="silly-kpi-value marker-pink" id="kpi-coffee"></div>
          <div class="silly-kpi-subtext" id="kpi-coffee-sub"></div>
        </article>

        <article class="silly-kpi">
          <div class="silly-kpi-label marker-grey">Revenue per daylight hour</div>
          <div class="silly-kpi-value marker-grey" id="kpi-daylight"></div>
          <div class="silly-kpi-subtext" id="kpi-daylight-sub"></div>
        </article>
      </section>

      <!-- Chart + API notes -->
      <section class="silly-middle-band">
        <article class="sketch-box silly-chart-area" aria-label="Quarterly buzzword penetration chart">
          <div class="silly-chart-header">
            <div class="silly-chart-title">
              Quarterly buzzword penetration
            </div>
            <div class="silly-chart-meta" id="chart-meta"></div>
          </div>

          <div class="silly-chart-grid">
            <div class="chart-bars" aria-hidden="true">
              <div class="chart-bar-group">
                <div class="chart-bar" id="bar-q1"></div>
                <div class="chart-bar-value" id="bar-q1-val"></div>
                <div class="chart-bar-label">Q1</div>
              </div>
              <div class="chart-bar-group">
                <div class="chart-bar" id="bar-q2"></div>
                <div class="chart-bar-value" id="bar-q2-val"></div>
                <div class="chart-bar-label">Q2</div>
              </div>
              <div class="chart-bar-group">
                <div class="chart-bar" id="bar-q3"></div>
                <div class="chart-bar-value" id="bar-q3-val"></div>
                <div class="chart-bar-label">Q3</div>
              </div>
              <div class="chart-bar-group">
                <div class="chart-bar" id="bar-q4"></div>
                <div class="chart-bar-value" id="bar-q4-val"></div>
                <div class="chart-bar-label">Q4*</div>
              </div>
            </div>
          </div>

          <div class="silly-chart-legend">
            Buzzwords per slide, scaled for font size. Q4 is mostly optimism.
          </div>

          <div class="silly-chart-ticker" aria-live="polite">
            <span class="silly-ticker-dot"></span>
            <span class="ticker-label">Ticker</span>
            <span class="ticker-text" id="buzzword-ticker"></span>
          </div>
        </article>

        <article class="silly-api-column" aria-label="Real time executive intelligence feed">
          <div class="silly-api-title marker-blue">
            Real time executive feed
          </div>
          <div class="silly-api-meta" id="api-meta">
            Asking the internet for wisdom, jokes and cats.
          </div>

          <div class="silly-api-notes">
            <div class="silly-api-note">
              <div class="note note-q2">
                <div class="api-label marker-blue">Advice</div>
                <div class="api-content" id="api-advice">Loading advice...</div>
              </div>
            </div>

            <div class="silly-api-note">
              <div class="note note-q3">
                <div class="api-label marker-yellow">Dad joke</div>
                <div class="api-content" id="api-joke">Calibrating humour...</div>
              </div>
            </div>

            <div class="silly-api-note">
              <div class="note note-q1">
                <div class="api-label marker-green">Cat risk</div>
                <div class="api-content" id="api-catfact">Checking feline disruption levels...</div>
              </div>
            </div>
          </div>
        </article>
      </section>

      <!-- Lower band -->
      <section class="silly-lower-band">
        <!-- Table -->
        <article class="sketch-box silly-table-area" aria-label="Top performing initiatives">
          <div class="silly-table-header">
            <div class="silly-table-title">
              Top performing initiatives
            </div>
            <div class="silly-table-meta" id="table-meta"></div>
          </div>

          <table class="fake-table">
            <thead>
              <tr>
                <th>Rank</th>
                <th>Initiative</th>
                <th>Owner</th>
                <th>Conf.</th>
                <th>Impact</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody id="initiatives-body">
              <!-- Filled by JS -->
            </tbody>
          </table>

          <div class="silly-table-footer">
            <div>Looks convincing. Please do not audit.</div>
            <div id="footer-updated"></div>
          </div>
        </article>

        <!-- Culture and territory -->
        <div class="silly-right-stack">
          <article class="sketch-box silly-culture-block" aria-label="Culture pulse">
            <div class="silly-culture-header">
              <div class="silly-culture-title">Culture pulse</div>
              <div class="silly-culture-meta" id="culture-meta"></div>
            </div>

            <div class="silly-culture-inner">
              <div class="gif-wrapper">
                <img id="nonsense-gif" src="" alt="Motivational gif">
              </div>
              <div class="gif-quote" id="nonsense-quote">
                Loading inspiration...
              </div>
            </div>

            <div class="employee-grid" aria-label="Employees of the day">
              <div class="employee-card">
                <div class="employee-avatar happy">
                  <img id="employee-best-avatar" src="" alt="Employee of the day">
                </div>
                <div class="employee-info">
                  <div class="employee-title">Employee of the day</div>
                  <div class="employee-name" id="employee-best-name"></div>
                  <div class="employee-role" id="employee-best-role"></div>
                </div>
              </div>

              <div class="employee-card">
                <div class="employee-avatar sad">
                  <img id="employee-worst-avatar" src="" alt="Least aligned employee of the day">
                </div>
                <div class="employee-info">
                  <div class="employee-title">Least aligned today</div>
                  <div class="employee-name" id="employee-worst-name"></div>
                  <div class="employee-role" id="employee-worst-role"></div>
                </div>
              </div>
            </div>
          </article>

          <article class="silly-flag-note" aria-label="Latest territory update">
            <div class="note note-q4">
              <div class="flag-meta" id="flag-meta">
                Latest territory update
              </div>
              <div class="flag-panel-content">
                <div class="flag-emoji" id="flag-emoji">üè≥Ô∏è</div>
                <div>
                  <div class="flag-text-main" id="flag-main"></div>
                  <div class="flag-text-sub" id="flag-sub"></div>
                </div>
              </div>
            </div>
          </article>
        </div>
      </section>

      <div class="silly-footer-notes">
        This wall is for fun. If it matches your real reporting, you may already be in the panic zone.
        No personal data is stored; this page calls public APIs for jokes, cats and random people.
      </div>
    </section>
  </main>

  <footer data-include="assets/footer.html"></footer>

  <script>
    function randomInt(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    function randomFrom(array) {
      return array[Math.floor(Math.random() * array.length)];
    }

    function formatPercent(value) {
      return value.toFixed(1) + "%";
    }

    function generateKpis() {
      const synergy = randomInt(64, 129);
      const meetings = randomInt(7, 42);
      const slides = randomInt(80, 420);
      const coffee = (Math.random() * 4 + 0.8).toFixed(1);

      const synergySubs = [
        "Cross team vibes are above baseline.",
        "Index boosted by saying synergy a lot.",
        "Roughly aligned with industry buzz levels."
      ];

      const meetingSubs = [
        "Invites that died before becoming meetings.",
        "Includes cancels, quiet no-shows and brave emails.",
        "Trend points to healthy calendar resistance."
      ];

      const slideSubs = [
        "Slides made in the last 30 days.",
        "Includes finals, backups and v7b.",
        "Spikes whenever someone finds a new template."
      ];

      const coffeeSubs = [
        "Cups per useful idea, 7 day view.",
        "Drops sharply when nobody launches a new project.",
        "Firmly within leadership norms."
      ];

      document.getElementById("kpi-synergy").textContent = synergy + " pts";
      document.getElementById("kpi-synergy-sub").textContent = randomFrom(synergySubs);

      document.getElementById("kpi-meetings").textContent = meetings;
      document.getElementById("kpi-meetings-sub").textContent = randomFrom(meetingSubs);

      document.getElementById("kpi-slides").textContent = slides + "/mo";
      document.getElementById("kpi-slides-sub").textContent = randomFrom(slideSubs);

      document.getElementById("kpi-coffee").textContent = coffee;
      document.getElementById("kpi-coffee-sub").textContent = randomFrom(coffeeSubs);

      generateDaylightKpi();
    }

    function generateDaylightKpi() {
      const now = new Date();

      // Rough Edinburgh sunset guess
      const sunset = new Date(now);
      sunset.setHours(16, 0, 0, 0);

      let hoursLeft = (sunset - now) / 36e5;
      if (isNaN(hoursLeft)) hoursLeft = 4;
      if (hoursLeft <= 0) hoursLeft = 0.5;

      const nonsenseRevenue = randomInt(120000, 980000);
      const perHour = nonsenseRevenue / hoursLeft;

      const valueText = "¬£" + perHour.toLocaleString(undefined, {
        maximumFractionDigits: 0
      }) + "/hr";

      const subVariants = [
        "Made up revenue divided by about " + hoursLeft.toFixed(1) + " daylight hours left.",
        "Indexed to imaginary turnover per not-actually-sunny hour.",
        "Based on a 16:00 sunset and zero respect for weather."
      ];

      document.getElementById("kpi-daylight").textContent = valueText;
      document.getElementById("kpi-daylight-sub").textContent = randomFrom(subVariants);
    }

    function generateChart() {
      const quarters = [
        { id: "q1", growth: randomInt(18, 72) },
        { id: "q2", growth: randomInt(32, 88) },
        { id: "q3", growth: randomInt(24, 96) },
        { id: "q4", growth: randomInt(40, 130) }
      ];

      const metaPhrases = [
        "Model tuned using last years optimism.",
        "Mix of hard data and soft guesses.",
        "Boosted by adding strategic to slide titles."
      ];

      quarters.forEach((q) => {
        const bar = document.getElementById("bar-" + q.id);
        const val = document.getElementById("bar-" + q.id + "-val");

        const height = 16 + q.growth;
        bar.style.height = height + "px";
        val.textContent = formatPercent(q.growth);
      });

      document.getElementById("chart-meta").textContent = randomFrom(metaPhrases);

      const buzzwords = [
        "Unlocking cross functional leverage in the hybrid value stack.",
        "Replatforming core synergies into an agile mindset pipeline.",
        "Driving asynchronous alignment across the stakeholder surface.",
        "Operationalising thought leadership using next wave frameworks.",
        "Decommissioning silos in favour of buzzword compliant squads."
      ];
      document.getElementById("buzzword-ticker").textContent = randomFrom(buzzwords);
    }

    function generateTable() {
      const initiatives = [
        "Hybrid Meeting Detox Sprint",
        "Slide Deck Reduction Program",
        "Strategic Coffee Optimisation",
        "Inbox Triage Centre",
        "Proactive Alignment Standups",
        "Zero Blame Retro Guild",
        "Subject Line Simplification",
        "Experimental Four Day Calendar",
        "Passive Aggressive Status Dashboard",
        "Continuous Improvement, Occasional Action"
      ];

      const owners = ["Taylor", "Jordan", "Alex", "Sam", "Casey", "Morgan"];

      const statuses = [
        { label: "On track", color: "green" },
        { label: "It depends", color: "amber" },
        { label: "Conceptual", color: "amber" },
        { label: "PowerPoint done", color: "green" },
        { label: "Emotionally delayed", color: "red" },
        { label: "Awaiting alignment", color: "amber" }
      ];

      const tbody = document.getElementById("initiatives-body");
      tbody.innerHTML = "";

      const rows = randomInt(5, 7);
      const usedIndexes = [];

      for (let i = 0; i < rows; i++) {
        let idx;
        do {
          idx = randomInt(0, initiatives.length - 1);
        } while (usedIndexes.includes(idx));
        usedIndexes.push(idx);

        const confidence = randomInt(47, 103);
        const impact = randomInt(1, 10);
        const status = randomFrom(statuses);

        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${i + 1}</td>
          <td>${initiatives[idx]}</td>
          <td>${randomFrom(owners)}</td>
          <td>${confidence}%</td>
          <td>${impact}/10</td>
          <td>
            <span class="badge">
              <span class="badge-dot ${status.color}"></span>
              <span>${status.label}</span>
            </span>
          </td>
        `;
        tbody.appendChild(tr);
      }

      const baselines = [
        "Calibrated with gut feel and a spreadsheet.",
        "Benchmarked against highly slide-driven companies.",
        "Confidence mostly reflects how good the last meeting felt."
      ];

      document.getElementById("table-meta").textContent = randomFrom(baselines);

      const now = new Date();
      document.getElementById("footer-updated").textContent =
        "Last wiped and rewritten at " + now.toLocaleTimeString(undefined, {
          hour: "2-digit",
          minute: "2-digit",
          second: "2-digit"
        });
    }

    function loadGifAndQuote() {
      const gifUrls = [
        "https://cataas.com/cat/gif",
        "https://cataas.com/cat/cute",
        "https://cataas.com/cat/funny",
        "https://cataas.com/cat/gif?type=sq"
      ];

      const quotes = [
        "If you stare at the dashboard long enough, the dashboard starts managing you.\n\n" +
          "<span>- Probably someone in agile</span>",
        "Reach for the stars. Worst case, update the slide deck.\n\n" +
          "<span>- Strategy team</span>",
        "What gets measured gets pretended to be managed.\n\n" +
          "<span>- KPI enthusiast</span>",
        "Believe in yourself. Everyone else is still waiting for the invite.\n\n" +
          "<span>- Calendar overlord</span>"
      ];

      const gifEl = document.getElementById("nonsense-gif");
      const quoteEl = document.getElementById("nonsense-quote");

      gifEl.src = randomFrom(gifUrls);
      quoteEl.innerHTML = randomFrom(quotes);

      const cultureMetaVariants = [
        "Tested on people avoiding real work.",
        "Culture metrics powered by cats and vibes.",
        "Sample size: whoever clicked this page today."
      ];
      document.getElementById("culture-meta").textContent = randomFrom(cultureMetaVariants);
    }

    async function fetchJson(url, options) {
      try {
        const response = await fetch(url, options);
        if (!response.ok) throw new Error("HTTP " + response.status);
        return await response.json();
      } catch (error) {
        return { error: String(error) };
      }
    }

    async function loadApis() {
      const meta = document.getElementById("api-meta");
      meta.textContent = "Talking to advice, joke and cat servers...";

      const [adviceRes, jokeRes, catRes] = await Promise.all([
        fetchJson("https://api.adviceslip.com/advice", { cache: "no-store" }),
        fetchJson("https://icanhazdadjoke.com/", {
          headers: { "Accept": "application/json" },
          cache: "no-store"
        }),
        fetchJson("https://catfact.ninja/fact?max_length=120", { cache: "no-store" })
      ]);

      const adviceEl = document.getElementById("api-advice");
      if (!adviceRes.error && adviceRes.slip && adviceRes.slip.advice) {
        adviceEl.textContent = adviceRes.slip.advice;
      } else {
        adviceEl.innerHTML =
          '<span class="api-error">Advice service down. Use your best guess.</span>';
      }

      const jokeEl = document.getElementById("api-joke");
      if (!jokeRes.error && jokeRes.joke) {
        jokeEl.textContent = jokeRes.joke;
      } else {
        jokeEl.innerHTML =
          '<span class="api-error">Joke API failed. Reuse an all hands story.</span>';
      }

      const catEl = document.getElementById("api-catfact");
      if (!catRes.error && catRes.fact) {
        catEl.textContent = catRes.fact;
      } else {
        catEl.innerHTML =
          '<span class="api-error">No cat data. Assume one is on somebodys keyboard.</span>';
      }

      meta.textContent = "Feed updated via public APIs. Scientific rigour not included.";
    }

    async function loadEmployees() {
      const result = await fetchJson(
        "https://randomuser.me/api/?results=2&inc=name,picture&noinfo=1",
        { cache: "no-store" }
      );

      const bestNameEl = document.getElementById("employee-best-name");
      const bestRoleEl = document.getElementById("employee-best-role");
      const bestAvatarEl = document.getElementById("employee-best-avatar");

      const worstNameEl = document.getElementById("employee-worst-name");
      const worstRoleEl = document.getElementById("employee-worst-role");
      const worstAvatarEl = document.getElementById("employee-worst-avatar");

      const bestRoles = [
        "Lead synchronized nodding strategist",
        "Head of premium noise cancelling",
        "Director of quiet competence",
        "Chief slide sanity checker"
      ];

      const worstRoles = [
        "VP of forgetting to unmute",
        "Head of spreadsheet dread",
        "Chief reply all architect",
        "Calendar overbooking technician"
      ];

      if (!result.error && result.results && result.results.length >= 2) {
        const [best, worst] = result.results;

        bestNameEl.textContent = capitalizeName(best.name);
        bestRoleEl.textContent = randomFrom(bestRoles);
        bestAvatarEl.src = best.picture.medium;

        worstNameEl.textContent = capitalizeName(worst.name);
        worstRoleEl.textContent = randomFrom(worstRoles);
        worstAvatarEl.src = worst.picture.medium;
      } else {
        bestNameEl.textContent = "Alex Placeholder";
        bestRoleEl.textContent = randomFrom(bestRoles);
        bestAvatarEl.src = "https://cataas.com/cat/says/hi";

        worstNameEl.textContent = "Jordan Fallback";
        worstRoleEl.textContent = randomFrom(worstRoles);
        worstAvatarEl.src = "https://cataas.com/cat/sad";
      }
    }

    function capitalizeName(nameObj) {
      if (!nameObj) return "Mystery colleague";
      const first = nameObj.first || "";
      const last = nameObj.last || "";
      return (first + " " + last).replace(/\b\w/g, function (c) {
        return c.toUpperCase();
      }).trim();
    }

    function loadFlagPanel() {
      const countries = [
        {
          name: "Finland",
          flag: "üá´üáÆ",
          stat: "More coffee per person than anywhere else."
        },
        {
          name: "Japan",
          flag: "üáØüáµ",
          stat: "Vending machines for almost everything."
        },
        {
          name: "New Zealand",
          flag: "üá≥üáø",
          stat: "More sheep than people. Fewer than your unread emails."
        },
        {
          name: "Canada",
          flag: "üá®üá¶",
          stat: "Apologies may be a renewable energy source."
        },
        {
          name: "Italy",
          flag: "üáÆüáπ",
          stat: "Espresso habits that would worry HR."
        },
        {
          name: "Brazil",
          flag: "üáßüá∑",
          stat: "Coffee that powers dashboards like this."
        },
        {
          name: "Norway",
          flag: "üá≥üá¥",
          stat: "Lots of tunnels. Still fewer than your folders."
        }
      ];

      const chosen = randomFrom(countries);

      const headlineVariants = [
        "Imaginary order recorded from " + chosen.name + ".",
        "New growth story on a sales slide: " + chosen.name + ".",
        "Flag added to the deck before a customer in " + chosen.name + "."
      ];

      document.getElementById("flag-emoji").textContent = chosen.flag;
      document.getElementById("flag-main").textContent = chosen.name;
      document.getElementById("flag-sub").textContent = chosen.stat;
      document.getElementById("flag-meta").textContent = randomFrom(headlineVariants);
    }

    document.addEventListener("DOMContentLoaded", () => {
      generateKpis();
      generateChart();
      generateTable();
      loadGifAndQuote();
      loadApis();
      loadEmployees();
      loadFlagPanel();
    });
  </script>
</body>
</html>
